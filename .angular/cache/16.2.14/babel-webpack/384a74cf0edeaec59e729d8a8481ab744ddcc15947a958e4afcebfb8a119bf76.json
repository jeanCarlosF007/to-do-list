{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["/home/jean/Documents/ADA/modulo5-to-do/src/app/components/create-chore/create-chore.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport {Obs}\n\n@Component({\n  selector: 'app-create-chore',\n  templateUrl: './create-chore.component.html',\n  styleUrls: ['./create-chore.component.css']\n})\nexport class CreateChoreComponent implements OnInit {\n\n  idApi = `18fdca17ed63404fbf6df235aba0b429`;\n  apiUrl =`https://crudcrud.com/api/${this.idApi}`;\n\n  constructor(private http: HttpClient) {}\n  \n  choresForm: FormGroup = new FormGroup({\n    id: new FormControl(''),\n    title: new FormControl('', [Validators.required]),\n    category: new FormControl('', [Validators.required]),\n    time: new FormControl(this.getTimeNow(), [Validators.required]),\n  });\n\n  createChore(): void {\n    const chore = this.choresForm.getRawValue();\n    this.http.post(this.apiUrl, chore)\n      .pipe(first())\n      .subscribe()\n  }\n\n  getTimeNow(): string {\n    const time = new Date();\n    const hour = time.getHours();\n    const minutes = time.getMinutes();\n    const convertedTime = `${hour}:${minutes}`;\n    return convertedTime;\n  }\n\n  ngOnInit(): void {\n    this.createChore();\n  }\n\n  private titleFieldTest(): void {\n    console.log(this.choresForm.controls['title'].valueChanges.subscribe({\n      next: (res) => {\n        console.log(res)\n      }\n    }));\n  }\n\n}\n"],"mappings":"","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}